function Xe(e,r,t,n,a){for(r=r.split?r.split("."):r,n=0;n<r.length;n++)e=e?e[r[n]]:a;return e===a?t:e}var Z=typeof window!="undefined";function re(e){return typeof e=="function"}function ye(e){return typeof e=="string"}function be(e){return e===void 0}function Ur(e){return typeof e=="boolean"}function zr(e){return Object.prototype.toString.call(e)==="[object Array]"}function Y(e){if(typeof e!="object"||e===null)return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function Ye(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return null}}function Gr(){if(Z){var e=navigator,r=e.languages;return e.userLanguage||(r&&r.length?r[0]:e.language)}}function qr(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}}function Fr(e){return function(r){for(var t,n=Object.create(null),a=/([^&=]+)=?([^&]*)/g;t=a.exec(r);){var u=Ye(t[1]),f=Ye(t[2]);u.substring(u.length-2)==="[]"?(n[u=u.substring(0,u.length-2)]||(n[u]=[])).push(f):n[u]=f===""||f}for(var l in n){var v=l.split("[");v.length>1&&(Vr(n,v.map(function(m){return m.replace(/[?[\]\\ ]/g,"")}),n[l]),delete n[l])}return n}(function(r){if(r){var t=r.match(/\?(.*)/);return t&&t[1]?t[1].split("#")[0]:""}return Z&&window.location.search.substring(1)}(e))}function Vr(e,r,t){for(var n=r.length-1,a=0;a<n;++a){var u=r[a];if(u==="__proto__"||u==="constructor")break;u in e||(e[u]={}),e=e[u]}e[r[n]]=t}function Ae(){for(var e="",r=0,t=4294967295*Math.random()|0;r++<36;){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[r-1],a=15&t;e+=n=="-"||n=="4"?n:(n=="x"?a:3&a|8).toString(16),t=r%8==0?4294967295*Math.random()|0:t>>4}return e}var ke=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||void 0,Q="undefined";function we(e){return ke[e]}function pe(e,r){return ke[e]=r,r}function Ne(e){pe(e)}function Wr(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}var Br=Wr;function Jr(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}var Hr=Jr;function Xr(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var Yr=Xr;function Kr(e){return Br(e)||Hr(e)||Yr()}var Se=Kr;function Ke(e,r){return r={exports:{}},e(r,r.exports),r.exports}var H=Ke(function(e){function r(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(u){return typeof u}:r=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},r(n)}function t(n){return typeof Symbol=="function"&&r(Symbol.iterator)==="symbol"?e.exports=t=function(u){return r(u)}:e.exports=t=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":r(u)},t(n)}e.exports=t}),Qr=Ke(function(e){var r=function(t){var n=Object.prototype,a=n.hasOwnProperty,u,f=typeof Symbol=="function"?Symbol:{},l=f.iterator||"@@iterator",v=f.asyncIterator||"@@asyncIterator",m=f.toStringTag||"@@toStringTag";function y(d,c,o){return Object.defineProperty(d,c,{value:o,enumerable:!0,configurable:!0,writable:!0}),d[c]}try{y({},"")}catch(d){y=function(c,o,i){return c[o]=i}}function A(d,c,o,i){var s=c&&c.prototype instanceof O?c:O,g=Object.create(s.prototype),S=new $(i||[]);return g._invoke=J(d,o,S),g}t.wrap=A;function h(d,c,o){try{return{type:"normal",arg:d.call(c,o)}}catch(i){return{type:"throw",arg:i}}}var w="suspendedStart",I="suspendedYield",N="executing",P="completed",T={};function O(){}function C(){}function x(){}var W={};W[l]=function(){return this};var _=Object.getPrototypeOf,L=_&&_(_(X([])));L&&L!==n&&a.call(L,l)&&(W=L);var z=x.prototype=O.prototype=Object.create(W);C.prototype=z.constructor=x,x.constructor=C,C.displayName=y(x,m,"GeneratorFunction");function F(d){["next","throw","return"].forEach(function(c){y(d,c,function(o){return this._invoke(c,o)})})}t.isGeneratorFunction=function(d){var c=typeof d=="function"&&d.constructor;return c?c===C||(c.displayName||c.name)==="GeneratorFunction":!1},t.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,x):(d.__proto__=x,y(d,m,"GeneratorFunction")),d.prototype=Object.create(z),d},t.awrap=function(d){return{__await:d}};function V(d,c){function o(g,S,b,j){var M=h(d[g],d,S);if(M.type==="throw")j(M.arg);else{var G=M.arg,D=G.value;return D&&typeof D=="object"&&a.call(D,"__await")?c.resolve(D.__await).then(function(U){o("next",U,b,j)},function(U){o("throw",U,b,j)}):c.resolve(D).then(function(U){G.value=U,b(G)},function(U){return o("throw",U,b,j)})}}var i;function s(g,S){function b(){return new c(function(j,M){o(g,S,j,M)})}return i=i?i.then(b,b):b()}this._invoke=s}F(V.prototype),V.prototype[v]=function(){return this},t.AsyncIterator=V,t.async=function(d,c,o,i,s){s===void 0&&(s=Promise);var g=new V(A(d,c,o,i),s);return t.isGeneratorFunction(c)?g:g.next().then(function(S){return S.done?S.value:g.next()})};function J(d,c,o){var i=w;return function(g,S){if(i===N)throw new Error("Generator is already running");if(i===P){if(g==="throw")throw S;return K()}for(o.method=g,o.arg=S;;){var b=o.delegate;if(b){var j=k(b,o);if(j){if(j===T)continue;return j}}if(o.method==="next")o.sent=o._sent=o.arg;else if(o.method==="throw"){if(i===w)throw i=P,o.arg;o.dispatchException(o.arg)}else o.method==="return"&&o.abrupt("return",o.arg);i=N;var M=h(d,c,o);if(M.type==="normal"){if(i=o.done?P:I,M.arg===T)continue;return{value:M.arg,done:o.done}}else M.type==="throw"&&(i=P,o.method="throw",o.arg=M.arg)}}}function k(d,c){var o=d.iterator[c.method];if(o===u){if(c.delegate=null,c.method==="throw"){if(d.iterator.return&&(c.method="return",c.arg=u,k(d,c),c.method==="throw"))return T;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var i=h(o,d.iterator,c.arg);if(i.type==="throw")return c.method="throw",c.arg=i.arg,c.delegate=null,T;var s=i.arg;if(!s)return c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,T;if(s.done)c[d.resultName]=s.value,c.next=d.nextLoc,c.method!=="return"&&(c.method="next",c.arg=u);else return s;return c.delegate=null,T}F(z),y(z,m,"Generator"),z[l]=function(){return this},z.toString=function(){return"[object Generator]"};function ee(d){var c={tryLoc:d[0]};1 in d&&(c.catchLoc=d[1]),2 in d&&(c.finallyLoc=d[2],c.afterLoc=d[3]),this.tryEntries.push(c)}function R(d){var c=d.completion||{};c.type="normal",delete c.arg,d.completion=c}function $(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(ee,this),this.reset(!0)}t.keys=function(d){var c=[];for(var o in d)c.push(o);return c.reverse(),function i(){for(;c.length;){var s=c.pop();if(s in d)return i.value=s,i.done=!1,i}return i.done=!0,i}};function X(d){if(d){var c=d[l];if(c)return c.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length)){var o=-1,i=function s(){for(;++o<d.length;)if(a.call(d,o))return s.value=d[o],s.done=!1,s;return s.value=u,s.done=!0,s};return i.next=i}}return{next:K}}t.values=X;function K(){return{value:u,done:!0}}return $.prototype={constructor:$,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(R),!d)for(var c in this)c.charAt(0)==="t"&&a.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=u)},stop:function(){this.done=!0;var d=this.tryEntries[0],c=d.completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(d){if(this.done)throw d;var c=this;function o(j,M){return g.type="throw",g.arg=d,c.next=j,M&&(c.method="next",c.arg=u),!!M}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],g=s.completion;if(s.tryLoc==="root")return o("end");if(s.tryLoc<=this.prev){var S=a.call(s,"catchLoc"),b=a.call(s,"finallyLoc");if(S&&b){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(S){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else if(b){if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(d,c){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&(d==="break"||d==="continue")&&s.tryLoc<=c&&c<=s.finallyLoc&&(s=null);var g=s?s.completion:{};return g.type=d,g.arg=c,s?(this.method="next",this.next=s.finallyLoc,T):this.complete(g)},complete:function(d,c){if(d.type==="throw")throw d.arg;return d.type==="break"||d.type==="continue"?this.next=d.arg:d.type==="return"?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):d.type==="normal"&&c&&(this.next=c),T},finish:function(d){for(var c=this.tryEntries.length-1;c>=0;--c){var o=this.tryEntries[c];if(o.finallyLoc===d)return this.complete(o.completion,o.afterLoc),R(o),T}},catch:function(d){for(var c=this.tryEntries.length-1;c>=0;--c){var o=this.tryEntries[c];if(o.tryLoc===d){var i=o.completion;if(i.type==="throw"){var s=i.arg;R(o)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(d,c,o){return this.delegate={iterator:X(d),resultName:c,nextLoc:o},this.method==="next"&&(this.arg=u),T}},t}(e.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}}),B=Qr;function Qe(e,r,t,n,a,u,f){try{var l=e[u](f),v=l.value}catch(m){t(m);return}l.done?r(v):Promise.resolve(v).then(n,a)}function Zr(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var u=e.apply(r,t);function f(v){Qe(u,n,a,f,l,"next",v)}function l(v){Qe(u,n,a,f,l,"throw",v)}f(void 0)})}}var te=Zr;function et(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ie=et;function Ze(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function rt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ze(t,!0).forEach(function(n){ie(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ze(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var p=rt,ue="function",ne="undefined",Ee="reducer",er="@@redux/",Le=er+"INIT",tt=er+Math.random().toString(36),rr=function(){return(typeof Symbol=="undefined"?"undefined":H(Symbol))===ue&&Symbol.observable||"@@observable"}(),Te=" != "+ue;function tr(e,r,t){if(H(r)===ue&&H(t)===ne&&(t=r,r=void 0),H(t)!==ne){if(H(t)!==ue)throw new Error("enhancer"+Te);return t(tr)(e,r)}if(H(e)!==ue)throw new Error(Ee+Te);var n=e,a=r,u=[],f=u,l=!1;function v(){f===u&&(f=u.slice())}function m(){return a}function y(I){if(H(I)!==ue)throw new Error("Listener"+Te);var N=!0;return v(),f.push(I),function(){if(!!N){N=!1,v();var T=f.indexOf(I);f.splice(T,1)}}}function A(I){if(!Y(I))throw new Error("Act != obj");if(H(I.type)===ne)throw new Error("ActType "+ne);if(l)throw new Error("Dispatch in "+Ee);try{l=!0,a=n(a,I)}finally{l=!1}for(var N=u=f,P=0;P<N.length;P++){var T=N[P];T()}return I}function h(I){if(H(I)!==ue)throw new Error("next "+Ee+Te);n=I,A({type:Le})}function w(){var I=y;return ie({subscribe:function(P){if(H(P)!=="object")throw new TypeError("Observer != obj");function T(){P.next&&P.next(m())}T();var O=I(T);return{unsubscribe:O}}},rr,function(){return this})}return A({type:Le}),ie({dispatch:A,subscribe:y,getState:m,replaceReducer:h},rr,w)}function nt(e,r){var t=r&&r.type,n=t&&t.toString()||"?";return"action "+n+Ee+" "+e+" returns "+ne}function at(e){Object.keys(e).forEach(function(r){var t=e[r],n=t(void 0,{type:Le});if(H(n)===ne||H(t(void 0,{type:tt}))===ne)throw new Error(Ee+" "+r+" "+ne)})}function it(e){for(var r=Object.keys(e),t={},n=0;n<r.length;n++){var a=r[n];H(e[a])===ue&&(t[a]=e[a])}var u=Object.keys(t),f;try{at(t)}catch(l){f=l}return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;if(f)throw f;for(var y=!1,A={},h=0;h<u.length;h++){var w=u[h],I=t[w],N=v[w],P=I(N,m);if(H(P)===ne){var T=nt(w,m);throw new Error(T)}A[w]=P,y=y||P!==N}return y?A:v}}function ve(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.length===0?function(n){return n}:r.length===1?r[0]:r.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function ut(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){return function(a,u,f){var l=n(a,u,f),v=l.dispatch,m=[],y={getState:l.getState,dispatch:function(h){return v(h)}};return m=r.map(function(A){return A(y)}),v=ve.apply(void 0,Se(m))(l.dispatch),p(p({},l),{},{dispatch:v})}}}var nr="analytics",oe="userId",ge="anonymousId",ot="https://lytics.dev/errors/",ce="__",ae=ce+"anon_id",se=ce+"user_id",fe=ce+"user_traits",yn=Object.freeze({ANON_ID:ae,USER_ID:se,USER_TRAITS:fe}),xe=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],De=["name","EVENTS","config","loaded"],st={registerPluginType:function(r){return"registerPlugin:".concat(r)},pluginReadyType:function(r){return"ready:".concat(r)}},E=xe.reduce(function(e,r){return e[r]=r,e},st);function ct(e){return xe.includes(e)}var ar=/^utm_/,ir=/^an_prop_/,ur=/^an_trait_/;function ft(e){var r=e.storage.setItem;return function(t){return function(n){return function(a){if(a.type===E.bootstrap){var u=a.params,f=a.user,l=a.persistedUser,v=a.initialUser,m=l.userId===f.userId;l.anonymousId!==f.anonymousId&&r(ae,f.anonymousId),m||r(se,f.userId),v.traits&&r(fe,p(p({},m&&l.traits?l.traits:{}),v.traits));var y=Object.keys(a.params);if(y.length){var A=u.an_uid,h=u.an_event,w=y.reduce(function(I,N){if(N.match(ar)||N.match(/^(d|g)clid/)){var P=N.replace(ar,""),T=P==="campaign"?"name":P;I.campaign[T]=u[N]}return N.match(ir)&&(I.props[N.replace(ir,"")]=u[N]),N.match(ur)&&(I.traits[N.replace(ur,"")]=u[N]),I},{campaign:{},props:{},traits:{}});t.dispatch(p(p({type:E.params,raw:u},w),A?{userId:A}:{})),A&&setTimeout(function(){return e.identify(A,w.traits)},0),h&&setTimeout(function(){return e.track(h,w.props)},0),Object.keys(w.campaign).length&&t.dispatch({type:E.campaign,campaign:w.campaign})}}return n(a)}}}}function lt(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n.type===E.setItemEnd){if(n.key===ae)return p(p({},t),{anonymousId:n.value});if(n.key===se)return p(p({},t),{userId:n.value})}switch(n.type){case E.identify:return Object.assign({},t,{userId:n.userId,traits:p(p({},t.traits),n.traits)});case E.reset:return[se,ae,fe].forEach(function(a){e.removeItem(a)}),Object.assign({},t,{userId:null,anonymousId:null,traits:{}});default:return t}}}function or(e){return{userId:e.getItem(se),anonymousId:e.getItem(ae),traits:e.getItem(fe)}}var Ce=function(r){return ce+"TEMP"+ce+r};function dt(e){return function(t,n,a){var u=n.getState("user")[t];if(u)return u;if(a&&Y(a)&&a[t])return a[t];var f=or(e)[t];return f||we(Ce(t))||null}}function pt(e){var r=e.storage,t=r.setItem,n=r.removeItem,a=r.getItem;return function(u){return function(f){return function(l){var v=l.userId,m=l.traits,y=l.options;if(l.type===E.reset&&([se,fe,ae].forEach(function(w){n(w)}),[oe,ge,"traits"].forEach(function(w){Ne(Ce(w))})),l.type===E.identify){a(ae)||t(ae,Ae());var A=a(se),h=a(fe)||{};A&&A!==v&&u.dispatch({type:E.userIdChanged,old:{userId:A,traits:h},new:{userId:v,traits:m},options:y}),v&&t(se,v),m&&t(fe,p(p({},h),m))}return f(l)}}}}var Ie={};function sr(e,r){Ie[e]&&re(Ie[e])&&(Ie[e](r),delete Ie[e])}function cr(e,r,t){return new Promise(function(n,a){return r()?n(e):t<1?a(p(p({},e),{},{queue:!0})):vt(10).then(function(u){return cr(e,r,t-10).then(n,a)})})}function vt(e){return new Promise(function(r){return setTimeout(r,e)})}function fr(e,r,t){var n=r(),a=e.getState(),u=a.plugins,f=a.context,l=a.queue,v=a.user,m=!f.offline;if(m&&l&&l.actions&&l.actions.length){var y=l.actions.reduce(function(h,w,I){var N=u[w.plugin].loaded;return N?(h.process.push(w),h.processIndex.push(I)):(h.requeue.push(w),h.requeueIndex.push(I)),h},{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(y.processIndex&&y.processIndex.length){y.processIndex.forEach(function(h){var w=l.actions[h],I=w.plugin,N=w.payload.type,P=n[I][N];if(P&&re(P)){var T=ht(w.payload,v);P({payload:T,config:u[I].config,instance:t});var O="".concat(N,":").concat(I);e.dispatch(p(p({},T),{},{type:O,_:{called:O,from:"queueDrain"}}))}});var A=l.actions.filter(function(h,w){return!~y.processIndex.indexOf(w)});l.actions=A}}}function gt(e,r,t){return setInterval(function(){return fr(e,r,t)},3e3)}function ht(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return[oe,ge].reduce(function(t,n){return e.hasOwnProperty(n)&&r[n]&&r[n]!==e[n]&&(t[n]=r[n]),t},e)}function mt(e){if(Array.isArray(e))return e}var yt=mt;function bt(e,r){var t=[],n=!0,a=!1,u=void 0;try{for(var f=e[Symbol.iterator](),l;!(n=(l=f.next()).done)&&(t.push(l.value),!(r&&t.length===r));n=!0);}catch(v){a=!0,u=v}finally{try{!n&&f.return!=null&&f.return()}finally{if(a)throw u}}return t}var wt=bt;function St(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Et=St;function It(e,r){return yt(e)||wt(e,r)||Et()}var Ot=It;function Pt(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(e).filter(function(n){var a=t.plugins||{};return Ur(a[n])?a[n]:!(a.all===!1||r[n]&&r[n].enabled===!1)}).map(function(n){return e[n]})}var he=/Start$/,lr=/^bootstrap/,dr=/^ready/;function At(e,r,t,n,a){return $e.apply(this,arguments)}function $e(){return $e=te(B.mark(function e(r,t,n,a,u){var f,l,v,m,y,A,h,w,I,N,P;return B.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(f=re(t)?t():t,l=r.type,v=l.replace(he,""),!(r._&&r._.called)){O.next=5;break}return O.abrupt("return",r);case 5:return m=n.getState(),y=Pt(f,m.plugins,r.options),l===E.initializeStart&&r.fromEnable&&(y=Object.keys(m.plugins).filter(function(C){var x=m.plugins[C];return r.plugins.includes(C)&&!x.initialized}).map(function(C){return f[C]})),A=y.map(function(C){return C.name}),h=Tt(l,y),O.next=12,Ue({action:r,data:{exact:h.before,namespaced:h.beforeNS},state:m,allPlugins:f,allMatches:h,instance:n,store:a,EVENTS:u});case 12:if(w=O.sent,!hr(w,A.length)){O.next=15;break}return O.abrupt("return",w);case 15:if(l!==v){O.next=19;break}I=w,O.next=22;break;case 19:return O.next=21,Ue({action:p(p({},w),{},{type:v}),data:{exact:h.during,namespaced:h.duringNS},state:m,allPlugins:f,allMatches:h,instance:n,store:a,EVENTS:u});case 21:I=O.sent;case 22:if(!l.match(he)){O.next=28;break}return N="".concat(v,"End"),O.next=26,Ue({action:p(p({},I),{},{type:N}),data:{exact:h.after,namespaced:h.afterNS},state:m,allPlugins:f,allMatches:h,instance:n,store:a,EVENTS:u});case 26:P=O.sent,P.meta&&P.meta.hasCallback&&sr(P.meta.rid,{payload:P});case 28:return O.abrupt("return",w);case 29:case"end":return O.stop()}},e)})),$e.apply(this,arguments)}function Ue(e){return ze.apply(this,arguments)}function ze(){return ze=te(B.mark(function e(r){var t,n,a,u,f,l,v,m,y,A,h,w,I,N,P,T,O,C;return B.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return t=r.data,n=r.action,a=r.instance,u=r.state,f=r.allPlugins,l=r.allMatches,v=r.store,m=r.EVENTS,y=u.plugins,A=u.context,h=n.type,w=h.match(he),I=t.exact.map(function(_){return _.pluginName}),w&&(I=l.during.map(function(_){return _.pluginName})),N=xt(a,I),P=t.exact.reduce(function(_,L){var z=L.pluginName,F=L.methodName,V=!1;return!F.match(/^initialize/)&&!F.match(/^reset/)&&(V=!y[z].loaded),A.offline&&F.match(/^(page|track|identify)/)&&(V=!0),_["".concat(z)]=V,_},{}),W.next=10,t.exact.reduce(function(){var _=te(B.mark(function L(z,F,V){var J,k,ee;return B.wrap(function($){for(;;)switch($.prev=$.next){case 0:return J=F.pluginName,$.next=3,z;case 3:if(k=$.sent,!(t.namespaced&&t.namespaced[J])){$.next=11;break}return $.next=7,t.namespaced[J].reduce(function(){var X=te(B.mark(function K(d,c,o){var i,s,g,S;return B.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return s=function(G,D,U){return function(q,Pe){var de=U||D;return p(p({},G),{},{abort:{reason:q,plugins:Pe||[D],caller:h,from:de}})}},j.next=3,d;case 3:if(i=j.sent,!(!c.method||!re(c.method))){j.next=6;break}return j.abrupt("return",i);case 6:return Rt(c.methodName,c.pluginName),j.next=9,c.method({payload:i,instance:a,abort:s(i,J,c.pluginName),config:pr(c.pluginName,y,f),plugins:y});case 9:return g=j.sent,S=Y(g)?g:{},j.abrupt("return",Promise.resolve(p(p({},i),S)));case 12:case"end":return j.stop()}},K)}));return function(K,d,c){return X.apply(this,arguments)}}(),Promise.resolve(n));case 7:ee=$.sent,k[J]=ee,$.next=12;break;case 11:k[J]=n;case 12:return $.abrupt("return",Promise.resolve(k));case 13:case"end":return $.stop()}},L)}));return function(L,z,F){return _.apply(this,arguments)}}(),Promise.resolve({}));case 10:return T=W.sent,W.next=13,t.exact.reduce(function(){var _=te(B.mark(function L(z,F,V){var J,k,ee,R,$,X,K,d,c,o,i,s,g;return B.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return J=t.exact.length===V+1,k=F.pluginName,ee=f[k],b.next=5,z;case 5:if(R=b.sent,$=T[k]?T[k]:{},w&&($=R),!qe($,k)){b.next=11;break}return Ge({data:$,method:h,instance:a,pluginName:k,store:v}),b.abrupt("return",Promise.resolve(R));case 11:if(!qe(R,k)){b.next=14;break}return J&&Ge({data:R,method:h,instance:a,store:v}),b.abrupt("return",Promise.resolve(R));case 14:if(!(P.hasOwnProperty(k)&&P[k]===!0)){b.next=17;break}return v.dispatch({type:"queue",plugin:k,payload:$,_:{called:"queue",from:"queueMechanism"}}),b.abrupt("return",Promise.resolve(R));case 17:return X=N(T[k],f[k]),b.next=20,ee[h]({abort:X.abort,payload:$,instance:a,config:pr(k,y,f),plugins:y});case 20:return K=b.sent,d=Y(K)?K:{},c=p(p({},R),d),o=T[k],qe(o,k)?Ge({data:o,method:h,instance:a,pluginName:k,store:v}):(i="".concat(h,":").concat(k),s=(i.match(/:/g)||[]).length,s<2&&!h.match(lr)&&!h.match(dr)&&(g=w?c:$,a.dispatch(p(p({},g),{},{type:i,_:{called:i,from:"submethod"}})))),b.abrupt("return",Promise.resolve(c));case 26:case"end":return b.stop()}},L)}));return function(L,z,F){return _.apply(this,arguments)}}(),Promise.resolve(n));case 13:if(O=W.sent,!(!h.match(he)&&!h.match(/^registerPlugin/)&&!h.match(dr)&&!h.match(lr)&&!h.match(/^params/)&&!h.match(/^userIdChanged/))){W.next=21;break}if(m.plugins.includes(h),!(O._&&O._.originalAction===h)){W.next=18;break}return W.abrupt("return",O);case 18:C=p(p({},O),{_:{originalAction:O.type,called:O.type,from:"engineEnd"}}),hr(O,t.exact.length)&&!h.match(/End$/)&&(C=p(p({},C),{type:O.type+"Aborted"})),v.dispatch(C);case 21:return W.abrupt("return",O);case 22:case"end":return W.stop()}},e)})),ze.apply(this,arguments)}function Ge(e){var r=e.data,t=e.method;e.instance;var n=e.pluginName,a=e.store,u=n?":"+n:"",f=t+"Aborted"+u;a.dispatch(p(p({},r),{},{type:f,_:{called:f,from:"abort"}}))}function pr(e,r,t){var n=r[e]||t[e];return n&&n.config?n.config:{}}function vr(e,r){return r.reduce(function(t,n){return n[e]?t.concat({methodName:e,pluginName:n.name,method:n[e]}):t},[])}function Nt(e){return e.replace(he,"")}function gr(e,r){var t=Nt(e),n=r?":".concat(r):"",a="".concat(e).concat(n),u="".concat(t).concat(n),f="".concat(t,"End").concat(n);return[a,u,f]}function Tt(e,r,t){var n=gr(e),a=n.map(function(u){return vr(u,r)});return r.reduce(function(u,f){var l=f.name,v=gr(e,l),m=v.map(function(I){return vr(I,r)}),y=Ot(m,3),A=y[0],h=y[1],w=y[2];return A.length&&(u.beforeNS[l]=A),h.length&&(u.duringNS[l]=h),w.length&&(u.afterNS[l]=w),u},{before:a[0],beforeNS:{},during:a[1],duringNS:{},after:a[2],afterNS:{}})}function qe(e,r){var t=e.abort;return t?t===!0?!0:mr(t,r)||t&&mr(t.plugins,r):!1}function hr(e,r){var t=e.abort;if(!t)return!1;if(t===!0||ye(t))return!0;var n=t.plugins;return Oe(t)&&t.length===r||Oe(n)&&n.length===r}function Oe(e){return Array.isArray(e)}function mr(e,r){return!e||!Oe(e)?!1:e.includes(r)}function xt(e,r){return function(t,n,a){var u=n.config,f=n.name,l="".concat(f,".").concat(t.type);a&&(l=a.event);var v=t.type.match(he)?jt(f,l,r,a,t):Mt(t,l);return{payload:_t(t),instance:e,config:u||{},abort:v}}}function jt(e,r,t,n,a){return function(u,f){var l=n?n.name:e,v=f&&Oe(f)?f:t;if(n&&(v=f&&Oe(f)?f:[e],!v.includes(e)||v.length!==1))throw new Error("Method ".concat(r," can only abort ").concat(e," plugin. ").concat(JSON.stringify(v)," input valid"));return p(p({},a),{},{abort:{reason:u,plugins:v,caller:r,_:l}})}}function Mt(e,r){return function(){throw new Error(e.type+" action not cancellable. Remove abort in "+r)}}function Rt(e,r){var t=yr(e),n=t&&t.name===r;if(n){var a=yr(t.method),u=a?"or "+a.method:"";throw new Error([r+" plugin is calling method "+e,"Plugins cant call self","Use ".concat(t.method," ").concat(u," in ").concat(r," plugin insteadof ").concat(e)].join(`
`))}}function yr(e){var r=e.match(/(.*):(.*)/);return r?{method:r[1],name:r[2]}:!1}function _t(e){return Object.keys(e).reduce(function(r,t){return t==="type"||(Y(e[t])?r[t]=Object.assign({},e[t]):r[t]=e[t]),r},{})}function kt(e,r,t){var n={};return function(a){return function(u){return function(){var f=te(B.mark(function l(v){var m,y,A,h,w,I,N,P,T,O,C,x;return B.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(m=v.type,y=v.abort,A=v.plugins,h=v,!y){_.next=4;break}return _.abrupt("return",u(v));case 4:if(m===E.enablePlugin&&a.dispatch({type:E.initializeStart,plugins:A,disabled:[],fromEnable:!0,meta:v.meta}),m===E.disablePlugin&&setTimeout(function(){return sr(v.meta.rid,{payload:v})},0),m===E.initializeEnd&&(w=r(),I=Object.keys(w),N=I.filter(function(L){return A.includes(L)}).map(function(L){return w[L]}),P=[],T=[],O=v.disabled,C=N.map(function(L){var z=L.loaded,F=L.name;return cr(L,z,1e4).then(function(V){return n[F]||(a.dispatch({type:E.pluginReadyType(F),name:F,events:Object.keys(L).filter(function(J){return!De.includes(J)})}),n[F]=!0),P=P.concat(F),L}).catch(function(V){if(V instanceof Error)throw new Error(V);return T=T.concat(V.name),V})}),Promise.all(C).then(function(L){var z={plugins:P,failed:T,disabled:O};setTimeout(function(){I.length===C.length+O.length&&a.dispatch(p(p({},{type:E.ready}),z))},0)})),m===E.bootstrap){_.next=13;break}return/^ready:([^:]*)$/.test(m)&&setTimeout(function(){return fr(a,r,e)},0),_.next=11,At(v,r,e,a,t);case 11:return x=_.sent,_.abrupt("return",u(x));case 13:return _.abrupt("return",u(h));case 14:case"end":return _.stop()}},l)}));return function(l){return f.apply(this,arguments)}}()}}}function Lt(e){return function(r){return function(t){return function(n){var a=n.type,u=n.key,f=n.value,l=n.options;if(a===E.setItem||a===E.removeItem){if(n.abort)return t(n);a===E.setItem?e.setItem(u,f,l):e.removeItem(u,l)}return t(n)}}}}function Dt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var Ct=Dt,$t=function e(){var r=this;Ct(this,e),ie(this,"before",[]),ie(this,"after",[]),ie(this,"addMiddleware",function(t,n){r[n]=r[n].concat(t)}),ie(this,"removeMiddleware",function(t,n){var a=r[n].findIndex(function(u){return u===t});a!==-1&&(r[n]=[].concat(Se(r[n].slice(0,a)),Se(r[n].slice(a+1))))}),ie(this,"dynamicMiddlewares",function(t){return function(n){return function(a){return function(u){var f={getState:n.getState,dispatch:function(m){return n.dispatch(m)}},l=r[t].map(function(v){return v(f)});return ve.apply(void 0,Se(l))(a)(u)}}}})};function Ut(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a={};if(n.type==="initialize:aborted")return t;if(/^registerPlugin:([^:]*)$/.test(n.type)){var u=br(n.type,"registerPlugin"),f=e()[u];if(!f||!u)return t;var l=n.enabled;return a[u]={enabled:l,initialized:l?Boolean(!f.initialize):!1,loaded:l?Boolean(f.loaded()):!1,config:f.config||{}},p(p({},t),a)}if(/^initialize:([^:]*)$/.test(n.type)){var v=br(n.type,E.initialize),m=e()[v];return!m||!v?t:(a[v]=p(p({},t[v]),{initialized:!0,loaded:Boolean(m.loaded())}),p(p({},t),a))}if(/^ready:([^:]*)$/.test(n.type))return a[n.name]=p(p({},t[n.name]),{loaded:!0}),p(p({},t),a);switch(n.type){case E.disablePlugin:return p(p({},t),wr(n.plugins,!1,t));case E.enablePlugin:return p(p({},t),wr(n.plugins,!0,t));default:return t}}}function br(e,r){return e.substring(r.length+1,e.length)}function wr(e,r,t){return e.reduce(function(n,a){return n[a]=p(p({},t[a]),{enabled:r}),n},t)}function Sr(e){try{return JSON.parse(JSON.stringify(e))}catch(r){}return e}var zt={last:{},history:[]};function Gt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zt,r=arguments.length>1?arguments[1]:void 0,t=r.type,n=r.event,a=r.properties,u=r.options,f=r.meta;switch(t){case E.track:var l=Sr(p(p({event:n,properties:a},Object.keys(u).length&&{options:u}),{},{meta:f}));return p(p({},e),{last:l,history:e.history.concat(l)});default:return e}}var qt={actions:[]};function Ft(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qt,r=arguments.length>1?arguments[1]:void 0,t=r.type,n=r.payload;switch(t){case"queue":var a;return n&&n.type&&n.type===E.identify?a=[r].concat(e.actions):a=e.actions.concat(r),p(p({},e),{},{actions:a});case"dequeue":return[];default:return e}}var Er=/#.*$/;function Vt(){if(!!Z){for(var e=document.getElementsByTagName("link"),r=0,t;t=e[r];r++)if(t.getAttribute("rel")==="canonical")return t.getAttribute("href")}}function Wt(e){var r=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g,t=r.exec(e),n=t&&t[3]?t[3].split("?")[0].replace(Er,""):"";return"/"+n}function Bt(e){var r=Vt();return r?r.match(/\?/)?r:r+e:window.location.href.replace(Er,"")}var Jt=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Z)return r;var t=document,n=t.title,a=t.referrer,u=window,f=u.location,l=u.innerWidth,v=u.innerHeight,m=f.hash,y=f.search,A=Bt(y),h={title:n,url:A,path:Wt(A),hash:m,search:y,width:l,height:v};return a&&a!==""&&(h.referrer=a),p(p({},h),r)},Ht={last:{},history:[]};function Xt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ht,r=arguments.length>1?arguments[1]:void 0,t=r.properties,n=r.options,a=r.meta;switch(r.type){case E.page:var u=Sr(p({properties:t,meta:a},Object.keys(n).length&&{options:n}));return p(p({},e),{last:u,history:e.history.concat(u)});default:return e}}function Yt(){if(!Z)return!1;var e=navigator.appVersion;return~e.indexOf("Win")?"Windows":~e.indexOf("Mac")?"MacOS":~e.indexOf("X11")?"UNIX":~e.indexOf("Linux")?"Linux":"Unknown OS"}var Ir,Or,Pr,Ar;Ir=Yt(),Or=Z?document.referrer:null,Pr=Gr(),Ar=qr();var Nr={initialized:!1,sessionId:Ae(),app:null,version:null,debug:!1,offline:Z?!navigator.onLine:!1,os:{name:Ir},userAgent:Z?navigator.userAgent:"node",library:{name:nr,version:"0.10.14"},timezone:Ar,locale:Pr,campaign:{},referrer:Or};function Kt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nr,r=arguments.length>1?arguments[1]:void 0,t=e.initialized,n=r.type,a=r.campaign;switch(n){case E.campaign:return p(p({},e),{campaign:a});case E.offline:return p(p({},e),{offline:!0});case E.online:return p(p({},e),{offline:!1});default:return t?e:p(p(p({},Nr),e),{initialized:!0})}}var Qt=["plugins","reducers","storage"];function Zt(e){return Object.keys(e).reduce(function(r,t){return Qt.includes(t)||(r[t]=e[t]),r},{})}function en(e,r,t){if(!!Z){var n=window[(t?"add":"remove")+"EventListener"];e.split(" ").forEach(function(a){n(a,r)})}}function rn(){return Promise.resolve(!navigator.onLine)}function tn(e){var r=function(a){return rn().then(e)},t=en.bind(null,"online offline",r);return t(!0),function(n){return t(!1)}}function Tr(){var e=ce+nr+ce;return pe(e,[]),function(r){return function(t,n,a){var u=r(t,n,a),f=u.dispatch,l=function(m){var y=m.action||m;return ke[e].push(y),f(m)};return Object.assign(u,{dispatch:l})}}}function xr(e){return function(){return ve(ve.apply(null,arguments),Tr())}}function Fe(e){return e?zr(e)?e:[e]:[]}function nn(e){for(var r=e||Array.prototype.slice.call(arguments),t,n=0;n<r.length;n++)if(re(r[n])){t=r[n];break}return t}function an(){return new Date().getTime()}function un(e,r){return function(t){r&&r(t),e(t)}}function jr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=Ae();return r&&(Ie[n]=un(r,nn(t))),p(p({},e),{},{rid:n,ts:an()},r?{hasCallback:!0}:{})}function on(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.reducers||{},t=e.initialUser||{},n=(e.plugins||[]).reduce(function(o,i){if(re(i))return o.middlewares=o.middlewares.concat(i),o;if(i.NAMESPACE&&(i.name=i.NAMESPACE),!i.name)throw new Error(ot+"1");var s=i.EVENTS?Object.keys(i.EVENTS).map(function(G){return i.EVENTS[G]}):[],g=i.enabled!==!1,S=!(i.config&&i.config.enabled===!1);o.pluginEnabled[i.name]=g&&S,delete i.enabled,i.methods&&(o.methods[i.name]=Object.keys(i.methods).reduce(function(G,D){return G[D]=c(i.methods[D]),G},{}),delete i.methods);var b=Object.keys(i),j=b.concat(s),M=new Set(o.events.concat(j));if(o.events=Array.from(M),o.pluginsArray=o.pluginsArray.concat(i),o.plugins[i.name])throw new Error(i.name+"AlreadyLoaded");return o.plugins[i.name]=i,o.plugins[i.name].loaded||(o.plugins[i.name].loaded=function(){return!0}),o},{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),a=e.storage?e.storage:{getItem:we,setItem:pe,removeItem:Ne},u=dt(a),f=n.plugins,l=n.events.filter(function(o){return!De.includes(o)}).sort(),v=new Set(l.concat(xe).filter(function(o){return!De.includes(o)})),m=Array.from(v).sort(),y=function(){return f},A=new $t,h=A.addMiddleware,w=A.removeMiddleware,I=A.dynamicMiddlewares,N=function(){throw new Error("Abort disabled inListener")},P=Fr(),T=or(a),O=p(p(p(p({},T),t),P.an_uid?{userId:P.an_uid}:{}),P.an_aid?{anonymousId:P.an_aid}:{});O.anonymousId||(O.anonymousId=Ae());var C=p({enable:function(i,s){return new Promise(function(g){R.dispatch({type:E.enablePlugin,plugins:Fe(i),_:{originalAction:E.enablePlugin}},g,[s])})},disable:function(i,s){return new Promise(function(g){R.dispatch({type:E.disablePlugin,plugins:Fe(i),_:{originalAction:E.disablePlugin}},g,[s])})}},n.methods),x={identify:function(){var o=te(B.mark(function s(g,S,b,j){var M,G,D,U,q;return B.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return M=ye(g)?g:null,G=Y(g)?g:S,D=b||{},U=x.user(),pe(Ce(oe),M),q=M||G.userId||u(oe,x,G),de.abrupt("return",new Promise(function($r){R.dispatch(p({type:E.identifyStart,userId:q,traits:G||{},options:D,anonymousId:U.anonymousId},U.id&&U.id!==M&&{previousId:U.id}),$r,[S,b,j])}));case 7:case"end":return de.stop()}},s)}));function i(s,g,S,b){return o.apply(this,arguments)}return i}(),track:function(){var o=te(B.mark(function s(g,S,b,j){var M,G,D;return B.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(M=Y(g)?g.event:g,!(!M||!ye(M))){q.next=3;break}throw new Error("EventMissing");case 3:return G=Y(g)?g:S||{},D=Y(b)?b:{},q.abrupt("return",new Promise(function(Pe){R.dispatch({type:E.trackStart,event:M,properties:G,options:D,userId:u(oe,x,S),anonymousId:u(ge,x,S)},Pe,[S,b,j])}));case 6:case"end":return q.stop()}},s)}));function i(s,g,S,b){return o.apply(this,arguments)}return i}(),page:function(){var o=te(B.mark(function s(g,S,b){var j,M;return B.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return j=Y(g)?g:{},M=Y(S)?S:{},D.abrupt("return",new Promise(function(U){R.dispatch({type:E.pageStart,properties:Jt(j),options:M,userId:u(oe,x,j),anonymousId:u(ge,x,j)},U,[g,S,b])}));case 3:case"end":return D.stop()}},s)}));function i(s,g,S){return o.apply(this,arguments)}return i}(),user:function(i){if(i===oe||i==="id")return u(oe,x);if(i===ge||i==="anonId")return u(ge,x);var s=x.getState("user");return i?Xe(s,i):s},reset:function(i){return new Promise(function(s){R.dispatch({type:E.resetStart},s,i)})},ready:function(i){return x.on(E.ready,i)},on:function(i,s){if(!i||!re(s))return!1;if(i===E.bootstrap)throw new Error(".on disabled for "+i);var g=/Start$|Start:/;if(i==="*"){var S=function(D){return function(U){return function(q){return q.type.match(g)&&s({payload:q,instance:x,plugins:f}),U(q)}}},b=function(D){return function(U){return function(q){return q.type.match(g)||s({payload:q,instance:x,plugins:f}),U(q)}}};return h(S,je),h(b,Me),function(){w(S,je),w(b,Me)}}var j=i.match(g)?je:Me,M=function(D){return function(U){return function(q){return q.type===i&&s({payload:q,instance:x,plugins:f,abort:N}),U(q)}}};return h(M,j),function(){return w(M,j)}},once:function(i,s){if(!i||!re(s))return!1;if(i===E.bootstrap)throw new Error(".once disabled for "+i);var g=x.on(i,function(S){var b=S.payload;s({payload:b,instance:x,plugins:f,abort:N}),g()});return g},getState:function(i){var s=R.getState();return i?Xe(s,i):Object.assign({},s)},dispatch:function(i){var s=ye(i)?{type:i}:i;if(ct(s.type))throw new Error("reserved action "+s.type);var g=i._||{},S=p(p({},s),{},{_:p({originalAction:s.type},g)});R.dispatch(S)},enablePlugin:C.enable,disablePlugin:C.disable,plugins:C,storage:{getItem:a.getItem,setItem:function(i,s,g){R.dispatch({type:E.setItemStart,key:i,value:s,options:g})},removeItem:function(i,s){R.dispatch({type:E.removeItemStart,key:i,options:s})}},setAnonymousId:function(i,s){x.storage.setItem(ae,i,s)},events:{all:m,core:xe,plugins:l}},W=function(i){return function(s){return function(g){return g.meta||(g.meta=jr()),s(g)}}},_=n.middlewares.concat([W,I(je),kt(x,y,{all:m,plugins:l}),Lt(a),ft(x),pt(x),I(Me)]),L={context:Kt,user:lt(a),page:Xt,track:Gt,plugins:Ut(y),queue:Ft},z=ve,F=ve;if(Z&&e.debug){var V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;V&&(z=V({trace:!0,traceLimit:25})),F=function(){return arguments.length===0?Tr():Y(H(arguments[0]))?xr():xr().apply(null,arguments)}}var J=Zt(e),k=n.pluginsArray.reduce(function(o,i){var s=i.name,g=i.config,S=i.loaded,b=n.pluginEnabled[s];return o[s]={enabled:b,initialized:b?Boolean(!i.initialize):!1,loaded:Boolean(S()),config:g||{}},o},{}),ee={context:J,user:O,plugins:k},R=tr(it(p(p({},L),r)),ee,F(z(ut.apply(void 0,Se(_)))));function $(o){return function(i,s,g){var S=jr(i.meta,s,Fe(g)),b=p(p({},i),{meta:S});return o.apply(null,[b])}}R.dispatch=$(R.dispatch);var X=Object.keys(f);R.dispatch({type:E.bootstrap,plugins:X,config:J,params:P,user:O,initialUser:t,persistedUser:T});var K=X.filter(function(o){return n.pluginEnabled[o]}),d=X.filter(function(o){return!n.pluginEnabled[o]});R.dispatch({type:E.registerPlugins,plugins:X,enabled:n.pluginEnabled}),n.pluginsArray.map(function(o,i){var s=o.bootstrap,g=o.config,S=o.name;s&&re(s)&&s({instance:x,config:g,payload:o}),R.dispatch({type:E.registerPluginType(S),name:S,enabled:n.pluginEnabled[S],plugin:o}),n.pluginsArray.length===i+1&&R.dispatch({type:E.initializeStart,plugins:K,disabled:d})}),tn(function(o){R.dispatch({type:o?E.offline:E.online})}),gt(R,y,x);function c(o){return function(){for(var i=Array.prototype.slice.call(arguments),s=new Array(o.length),g=0;g<i.length;g++)s[g]=i[g];return s[s.length]=x,o.apply({instance:x},s)}}return x}var je="before",Me="after",le=_r(),Mr=Re,sn=Re;function Rr(e){return le?Re(e,"",-1):Ne(e)}function _r(){if(typeof le!==Q)return le;try{Re(Q,"1"),le=document.cookie.indexOf(Q)!==-1,Rr(Q)}catch(e){le=!1}return le}function Re(e,r,t,n,a,u){if(typeof window!==Q){var f=arguments.length>1;return le||(f?pe(e,r):we(e)),f?document.cookie=e+"="+encodeURIComponent(r)+(t?"; expires="+new Date(+new Date+1e3*t).toUTCString()+(n?"; path="+n:"")+(a?"; domain="+a:"")+(u?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var me=kr();function kr(){if(typeof me!==Q)return me;me=!0;try{typeof localStorage!==Q&&typeof JSON!==Q||(me=!1),localStorage.setItem(Q,Q),localStorage.removeItem(Q)}catch(e){me=!1}return me}function _e(e){var r=e;try{if((r=JSON.parse(e))==="true")return!0;if(r==="false")return!1;if(Y(r))return r;parseFloat(r)===r&&(r=parseFloat(r))}catch(t){}if(r!==null&&r!=="")return r}var cn=kr(),fn=_r();function Lr(e,r){if(e){var t=Ve(r),n=!Je(t),a=We(t)?_e(localStorage.getItem(e)):void 0;if(n&&!be(a))return a;var u=Be(t)?_e(Mr(e)):void 0;if(n&&u)return u;var f=we(e);return n?f:{localStorage:a,cookie:u,global:f}}}function ln(e,r,t){if(e&&!be(r)){var n={},a=Ve(t),u=JSON.stringify(r),f=!Je(a);return We(a)&&(n.localStorage={location:"localStorage",current:r,previous:_e(localStorage.getItem(e))},localStorage.setItem(e,u),f)?n.localStorage:Be(a)&&(n.cookie={location:"cookie",current:r,previous:_e(Mr(e))},sn(e,u),f)?n.cookie:(n.global={location:"global",current:r,previous:we(e)},pe(e,r),f?n.global:n)}}function dn(e,r){if(e){var t=Ve(r),n=Lr(e,"*"),a={};return!be(n.localStorage)&&We(t)&&(localStorage.removeItem(e),a.localStorage=n.localStorage),!be(n.cookie)&&Be(t)&&(Rr(e),a.cookie=n.cookie),!be(n.global)&&He(t,"global")&&(Ne(e),a.global=n.global),a}}function Ve(e){return e?ye(e)?e:e.storage:"any"}function We(e){return cn&&He(e,"localStorage")}function Be(e){return fn&&He(e,"cookie")}function Je(e){return e==="*"||e==="all"}function He(e,r){return e==="any"||e===r||Je(e)}var pn={setItem:ln,getItem:Lr,removeItem:dn},vn=pn;function gn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hn=gn;function Dr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function mn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dr(t,!0).forEach(function(n){hn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dr(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Cr=mn;function bn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r={storage:vn};return on(Cr(Cr({},r),e))}export{bn as Analytics,yn as CONSTANTS,E as EVENTS,bn as default,bn as init};
